function renderCurvedText() {
  const font = fontSelect.value;
  const sizeName = sizeSelect.value;
  const text = textInput.value || " ";
  svgOverlay.innerHTML = "";

  const w = productImage.clientWidth;
  const h = productImage.clientHeight;
  svgOverlay.setAttribute("viewBox", `0 0 ${w} ${h}`);

  // -----------------------------
  // 1️⃣ CENTER OF CIRCLE (can offset from true center)
  // -----------------------------
  let cx = w / 2;   // x-coordinate of circle center
  let cy = h / 2;   // y-coordinate of circle center
  // Example: move circle 20px right and 10px down
  // cx += 20;
  // cy += 10;

  // -----------------------------
  // 2️⃣ RADIUS OF CIRCLE
  // -----------------------------
  const fontCircle = CIRCLE_FONT_SETTINGS[font] || { small: 50, medium: 60, large: 70, radiusBase: 400 };
  const fontSizePx = fontCircle[sizeName];
  const radius = fontCircle.radiusBase; // <-- CHANGE THIS to make circle bigger/smaller

  // -----------------------------
  // 3️⃣ MID-ANGLE FOR CURVED TEXT
  // -----------------------------
  // Angles are in radians. 0 = positive X axis (east). Quadrant 4 = bottom right.
  // You want 45 degrees in Q4:
  const midAngleDeg = 315;   // <-- CHANGE THIS to rotate the text around circle (degrees)
  const midAngle = midAngleDeg * Math.PI / 180;

  // -----------------------------
  // 4️⃣ ARC ANGLE
  // -----------------------------
  const approxCharWidth = fontSizePx * 0.6; // rough estimate per character
  const approxTextWidth = Math.max(10, text.length * approxCharWidth);
  const arcAngle = Math.min(Math.PI * 1.4, approxTextWidth / radius);

  const startAngle = midAngle - arcAngle / 2;
  const endAngle = midAngle + arcAngle / 2;

  // -----------------------------
  // 5️⃣ START AND END COORDINATES
  // -----------------------------
  const startX = cx + radius * Math.cos(startAngle);
  const startY = cy + radius * Math.sin(startAngle);
  const endX   = cx + radius * Math.cos(endAngle);
  const endY   = cy + radius * Math.sin(endAngle);

  const largeArcFlag = (arcAngle > Math.PI) ? 1 : 0;
  const sweepFlag = 0; // sweep = 0 for bottom half orientation

  // -----------------------------
  // 6️⃣ CREATE PATH
  // -----------------------------
  const pathId = "arcPath";
  const svgNS = "http://www.w3.org/2000/svg";
  const path = document.createElementNS(svgNS, "path");
  path.setAttribute("d", `M ${startX} ${startY} A ${radius} ${radius} 0 ${largeArcFlag} ${sweepFlag} ${endX} ${endY}`);
  path.setAttribute("id", pathId);
  path.setAttribute("fill", "none");
  svgOverlay.appendChild(path);

  // -----------------------------
  // 7️⃣ CREATE TEXT ELEMENT
  // -----------------------------
  const textElem = document.createElementNS(svgNS, "text");
  textElem.setAttribute("class", "svg-text");
  textElem.setAttribute("font-family", font);
  textElem.setAttribute("font-size", fontSizePx + "px");
  textElem.setAttribute("fill", "black");

  const textPath = document.createElementNS(svgNS, "textPath");
  textPath.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", "#" + pathId);
  textPath.setAttribute("startOffset", "50%"); // center text along path
  textPath.setAttribute("dominant-baseline", "middle");
  textPath.setAttribute("text-anchor", "middle");
  textPath.textContent = text;

  textElem.appendChild(textPath);
  svgOverlay.appendChild(textElem);
}
